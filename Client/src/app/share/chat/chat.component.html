<div *ngIf="showChatBox" class="container py-5" style="position: fixed; bottom: 0; right: 0; width: 300px;">
  <div class="row d-flex justify-content-center">
    <div class="col-12">

      <div class="card">

        <div class="card-header d-flex justify-content-between align-items-center p-3"
          style="border-top: 4px solid #d32f2f;">
          <h5 class="mb-0">ChatBox</h5>
          <div class="d-flex flex-row align-items-center">
            <i class="fas fa-minus me-3 text-muted fa-xs"></i>
            <i (click)="toggleChat()" class="fas fa-times text-muted fa-xs"></i>
          </div>
        </div>


        <!-- chat.component.html -->
        <div class="card-body" style="max-height: 400px; overflow-y: auto;">
          <div *ngFor="let message of messages">
            <div *ngIf="message.isSended" class="d-flex justify-content-between">
              <p class="small mb-1 text-muted">{{ message.timestamp }}</p>
              <p class="small mb-1">{{ message.sender }}</p>
            </div>
            <div *ngIf="!message.isSended" class="d-flex justify-content-between">
              <p class="small mb-1">{{ message.sender }}</p>
              <p class="small mb-1 text-muted">{{ message.timestamp }}</p>

            </div>
            <div [ngClass]="{'justify-content-end': message.isSended, 'justify-content-start': !message.isSended}"
              class="d-flex flex-row mb-4 pt-1">
              <div [ngClass]="{'me-3': message.isSended, 'ms-3': !message.isSended}">
                <p class="small p-2 mb-3 text-white rounded-3"
                  [ngClass]="{'bg-primaryy': message.isSended, 'bg-secondary': !message.isSended}">
                  {{ message.content }}
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="card-footer text-muted d-flex justify-content-start align-items-center p-3">
          <div class="input-group mb-0">
            <input [(ngModel)]="mensaje" type="text" class="form-control" placeholder="Type message"
              aria-label="Recipient's username" aria-describedby="button-addon2" />
            <button (click)="sendMessage()" class="btn bg-primaryy" type="button" id="button-addon2"
              style="padding-top: .55rem;">
              <mat-icon>send</mat-icon>
            </button>
          </div>
        </div>


      </div>
    </div>

  </div>